 <!doctype html>
<html
<head>
<title>IFrame Test inset</title>
  
    <link href="plstyle.css" rel="stylesheet" type="text/css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
    document.onreadystatechange = function () {
        if (document.readyState == "complete") {
            getDataParam();
            loadMenuPopUp();
        }
    }
    var elementId;
    var iframeid;
    var recid;
    var configid;
    function getDataParam() {
        //Get the any query string parameters and load them
        //into the vals array

        var vals = new Array();
        if (location.search != "") {
            vals = location.search.substr(1).split("&");
            for (var i in vals) {
                vals[i] = vals[i].replace(/\+/g, " ").split("=");

            }
            //look for the parameter named 'data'
            var found = false;
            for (var i in vals) {
                if (vals[i][0].toLowerCase() == "data") {
                    parseDataValue(vals[i][1]);
                    found = true;
                    break;
                }
            }
            if (!found) {
                //noParams();
            }
        }
        else {
            //noParams();
        }

    }
    function parseDataValue(datavalue) {
        if (datavalue != "") {
            var vals = new Array();
            vals = decodeURIComponent(datavalue).split("&");
            for (var i in vals) {
                vals[i] = vals[i].replace(/\+/g, " ").split("=");
                // alert(vals[i][0] + "=" + vals[i][1]);
                if (vals[i][0] == 'id') {
                    elementId = vals[i][1];
                }
                if (vals[i][0] == 'iframeid') {
                    iframeid = vals[i][1];
                }
                if (vals[i][0] == 'configid') {
                    configid = vals[i][1];
                }

            }
        }
    }


    function loadMenuPopUp() {
        //alert(iframeid);

        //var frame = window.parent.document.getElementsByTagName('iframe');
        var frame = window.parent.document.getElementById(iframeid);
        // debugger;
        // var rect = frame[0].getBoundingClientRect();
        var rect = frame.getBoundingClientRect();

        div = $("<div />");

        div.attr({ id: elementId, class: 'element' });
        div.css({ top: rect.top + $(window).height(), left: rect.left, 'z-index': '1000', position: 'absolute' })
        var menuitempopup = $("#menuitempopup").clone();
        div.html(menuitempopup.html());
        div.hide();

        $("body", window.parent.document).append(div);
    }
    var isOpened = false;
    $(function () {
        // loadMenuPopUp();
        $("#ddcl-s4a").click(function () {
            if (isOpened) {
                isOpened = false;
                $("#" + elementId, window.parent.document.body).hide();
                $(".ui-icon").removeClass("ui-icon-arrowthick-1-n");
                $(".ui-icon").addClass("ui-icon-arrowthick-1-s");

            }
            else {
                isOpened = true;
                $(".ui-icon").removeClass("ui-icon-arrowthick-1-s");
                $(".ui-icon").addClass("ui-icon-arrowthick-1-n");
                $("#" + elementId, window.parent.document.body).show();

            }


        });
    });
</script>
<style type="text/css">

</style>
</head>
<body style="background-color:Aqua">
  <div  id="ddcl-s4a" class="cnt ui-dropdownchecklist ui-dropdownchecklist-selector-wrapper ui-widget">
 <span style="width: 150px; overflow: hidden; display: inline-block; white-space: nowrap;"
  class="ui-dropdownchecklist-selector ui-state-default" tabIndex="0">
  <div style="float: right;" class="ui-icon ui-icon-arrowthick-1-s"></div>
<!--  <div style="float: right;" class="ui-icon ui-icon-arrowthick-1-n"></div>-->
  <span style="width: 130px; overflow: hidden; display: inline-block; white-space: nowrap;" class="ui-dropdownchecklist-text" title="Medium, High">Medium, High</span></span>
  </div>

  <div style="display:none;position:top;top:0px;left:0px" 
  id="menuitempopup" style="vertical-align: middle;font-size: 0px;"  >
  <div style="height: 122px; overflow-y: auto;	background-color: #fff;border: none;border: 1px solid #999;">
  <div style="white-space: nowrap; vertical-align: middle;">
  <input id="ddcl-s4a-i0" class="active" tabIndex="0" value="Low" type="checkbox" index="0">
  <label style="cursor: default;font-size: medium;"  for="ddcl-s4a-i0">Low</label>
  </div>
  <div style="white-space: nowrap; vertical-align: middle;">
  <input id="ddcl-s4a-i1" class="active" tabIndex="0" value="Medium" CHECKED="checked" type="checkbox" index="1">
  <label style="cursor: default;font-size: medium;" for="ddcl-s4a-i1">Medium</label>
  </div>
  <div style="white-space: nowrap; vertical-align: middle;">
  <input id="ddcl-s4a-i2" class="active" tabIndex="0" value="High" CHECKED="checked" type="checkbox" index="2">
  <label style="cursor: default;font-size: medium;" for="ddcl-s4a-i2">High</label></div>
  </div>
  
  </div>
</body>
</html>

