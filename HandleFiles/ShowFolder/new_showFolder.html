<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Light theme visual tests</title>
    <link rel="stylesheet" href="new_style.min.css">
    <style>
        .tree {
            border: 1px solid black;
            padding: 10px;
            width: 300px;
            margin: 20px;
            float: left;
            min-height: 200px;
        }
    </style>

</head>

<body style="background: white;">
    <div id="using_json" class="demo jstree jstree-3 jstree-default" role="tree" aria-multiselectable="true" tabindex="0" aria-activedescendant="j3_1" aria-busy="false">
    </div>
    <div id="using_json_2"></div>
    <!-- <div class="tree" id="empty"></div>
    <div class="tree" id="core">
        <ul>
            <li>asdf</li>
        </ul>
    </div>-->

    <!--    <div class="tree" id="tree">
        <ul>
            <li>Node 01
				<ul>
                    <li>Node</li>
                    <li>Node</li>
                </ul>
            </li>
            <li>Node 02</li>
            <li data-jstree='{"opened" : true}'>Node 03
				<ul>
                    <li>Node</li>
                    <li>Node</li>
                </ul>
            </li>
            <li>Node 04</li>
            <li>Node 05</li>
        </ul>
    </div>
    <div class="tree" id="full">
        <ul>
            <li data-jstree='{ "selected" : true, "type" : "file" }'>full</li>
            <li>asdf</li>
        </ul>
    </div>
    <div class="tree" id="dark">
        <ul>
            <li data-jstree='{ "selected" : true, "type" : "file"}'>full</li>
            <li>asdf</li>
        </ul>
    </div>-->

    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <script src="new_jstree.min.js"></script>
    <script>
        $('#empty').jstree();
        $('#tree, #core').jstree();
        $('#full').jstree({ plugins: ["checkbox", "sort", "types", "wholerow"], "types": { "file": { "icon": "jstree-file" } } });
        $('#dark').jstree({ plugins: ["checkbox", "sort", "types", "wholerow"], "core": { "themes": { "name": "default-dark" } }, "types": { "file": { "icon": "jstree-file" } } });
    </script>

    <script>
        //$('#using_json').jstree({
        //    'core': {
        //        'data': [
        //           'Simple root node',
        //           {
        //               'text': 'Root node 2',
        //               'state': {
        //                   'opened': true,
        //                   'selected': true
        //               },
        //               'children': [
        //                 { 'text': 'Child 1' },
        //                 'Child 2'
        //               ]
        //           }
        //        ]
        //    }
        //});
        $('#using_json_2').jstree(
            {
                'state': { 'key': 'navtree', 'events': 'activate_node.jstree' },
                plugins: ["themes", "xml_data", "ui", "types"]
                ,
                ui: { select_limit: 1, selected_parent_close: false },
                themes: { theme: "default", dots: true, icons: false },
                types: { types: { "heading": { select_node: true } } }
           , 'core': {
               'data': [
                  { "id": "ajson1", "parent": "#", "text": "Simple root node" },
                  { "id": "ajson2", "parent": "#", "text": "Root node 2" },
                  { "id": "ajson3", "parent": "ajson2", "text": "Child 1" },
                  {
                      "id": "ajson4", "parent": "ajson2", "text": "link",
                      icon: "new_document.png",
                      'state':
                              {
                                  'selected': false,
                                  'opened': true
                              },
                      'a_attr': { href: "http://www.google.com" }
                  },
               ]
           }
            }).bind("select_node.jstree", function (e, data) {
            $('#jstree').jstree('save_state');
        }).on("activate_node.jstree", function(e,data){
            //   window.location.href = data.node.a_attr.href;
            alert(data.node.a_attr.href);
            if(data.node.a_attr.href!="#")
               window.open(data.node.a_attr.href);
        })
            //.bind('select_node.jstree', function (e, data) {
            //    debugger;
            //    alert(1);//data.rslt.obj.find('a').attr("href"));
            //    window.location.href = data.rslt.obj.find('a').attr("href");
            //   // alert(e);
            //});;
    </script>
</body>
</html>
